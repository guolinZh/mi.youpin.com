<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>登录注册页面</title>
		<link rel="stylesheet" href="src/css/register-login.css">
		<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
	</head>
	<body>
		<div class="container-box">
			<div class="title">
				<p>小米账号登录</p>
			</div>
			<!-- register and login area -->
			<div class="login-form" method="post" novalidate>
				<div class="input-content">
					<div>
						<input type="text" autocomplete="off" placeholder="手机号/邮箱号/小米id" id="username" name="userNameOrEmailAddress" required/>
					</div>
					<div style="margin-top: 16px">
						<input type="password" id="password" autocomplete="off" placeholder="密码" name="password" required maxlength="[5,10]">
					</div>
					<div>
					 <button type="submit" id="submit" class="btn" >登录</button>
					</div>
					<div class="footer">
						<div class="left">
							<span><a href="#">手机短信登录/注册</a></span>
						</div>
						<div class="right">
							<span><a href="#">立即注册|忘记密码</a></span>
						</div>
						
					</div>
					
				</div>
				<div class="bottom">
				<div class="other">
					<span>------------其他方式登录-----------</span>
				</div>
				<div class="otherlogin">
					<a href="#">qq登录</a>
					<a href="#">微博登录</a>
					<a href="#">支付宝登录</a>
					<a href="#">微信登录</a>
				</div>
			</div>
		</div>
	</div>
	
	<script>
		var submit=document.getElementById("submit");
		var username=document.getElementById("username");
		var password=document.getElementById("password");
		
		
		submit.addEventListener("click",register);
		function register(){
			var usr_value=username.value;
			var pwd_value=password.value;
			
			var url="http://localhost/interface/register.php";
			 url += `?username=${usr_value}&password=${pwd_value}`;
			 
			 ajaxGet(url)
			 .then(function(res){
				 console.log(res);
				 
			 })
		}
		function ajaxGet(url){
		     return new Promise(function(resolve,reject){
		           var xhr = new XMLHttpRequest();
		           xhr.open("GET",url);
		           xhr.send(null);
		           xhr.onreadystatechange = function(){
		                 if(xhr.readyState === 4 && xhr.status === 200){
		                       resolve(xhr.response);
		                 }
		           }
		     })
		}
		            
	</script>
	
</body>	
</html>

